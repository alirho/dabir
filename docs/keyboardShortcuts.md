# میانبرهای کیبورد

«دبیر» برای افزایش سرعت نوشتن، از میانبرهای کیبورد پشتیبانی می‌کند. شما می‌توانید میانبرهای پیش‌فرض را تغییر دهید یا میانبرهای جدیدی برای خودتان تعریف کنید.

## میانبرهای پیش‌فرض

| کلید(ها)              | عملکرد                                               | توضیحات                                                                 |
| :-------------------- | :--------------------------------------------------- | :---------------------------------------------------------------------- |
| `Tab`                 | افزایش تورفتگی (Indent) آیتم لیست                      | مکان‌نما باید داخل یک آیتم از لیست باشد.                                  |
| `Shift` + `Tab`       | کاهش تورفتگی (Outdent) آیتم لیست                       | مکان‌نما باید داخل یک آیتم از لیست تودرتو باشد.                          |
| `Enter`               | ایجاد آیتم جدید در لیست یا خروج از آن                | اگر آیتم فعلی خالی باشد، از لیست خارج می‌شود.                           |
| `Enter` (در خط خالی)  | خروج از بلوک‌های نقل‌قول، کد و جعبه‌های توضیحی        | اگر در یک خط خالی داخل این بلوک‌ها `Enter` را بزنید، یک پاراگراف جدید ایجاد می‌شود. |
| `Backspace` (ابتدای بازبینه) | تبدیل بازبینه (Checklist) به آیتم لیست معمولی | تیک‌باکس را حذف کرده و آیتم را به یک آیتم لیست عادی تبدیل می‌کند.          |

## شخصی‌سازی میانبرها

شما می‌توانید با دسترسی به ماژول `keyboardHandler` ویرایشگر، میانبرهای جدیدی ثبت کنید.

### ثبت یک میانبر جدید

متد `register` سه آرگومان دریافت می‌کند:

1.  `key` (`string`): نام کلید اصلی (مانند `'b'`, `'Enter'`, `'Tab'`).
2.  `modifiers` (`Array<string>`): آرایه‌ای از کلیدهای اصلاح‌کننده (مانند `['ctrl']`, `['shift']`, `['alt']`).
3.  `handler` (`Function`): تابعی که در هنگام فشردن میانبر اجرا می‌شود. این تابع آبجکت `event` و نمونه `editor` را به عنوان پارامتر دریافت می‌کند. اگر این تابع `true` برگرداند، از اجرای رفتار پیش‌فرض مرورگر جلوگیری می‌شود.

#### مثال ۱: افزودن میانبر برای پررنگ کردن متن (Ctrl + B)

```javascript
const editor = new DabirEditor('#editor');

editor.keyboardHandler.register('b', ['ctrl'], (event, editorInstance) => {
    // از دستورات داخلی مرورگر برای اعمال قالب‌بندی استفاده می‌کنیم
    document.execCommand('bold');
    
    // true را برمی‌گردانیم تا مرورگر کار دیگری انجام ندهد
    return true; 
});
```

#### مثال ۲: افزودن میانبر برای درج تاریخ امروز (Alt + D)

```javascript
editor.keyboardHandler.register('d', ['alt'], (event) => {
    const today = new Date().toLocaleDateString('fa-IR');
    document.execCommand('insertText', false, today);
    return true;
});
```

### تغییر میانبرهای موجود

در حال حاضر، راه مستقیمی برای حذف یا تغییر میانبرهای پیش‌فرض (مانند `Tab`) وجود ندارد. با این حال، از آنجایی که میانبرهای سفارشی شما قبل از میانبرهای داخلی پلاگین‌ها بررسی نمی‌شوند، ممکن است تداخل ایجاد شود. در نسخه‌های آینده، API بهتری برای مدیریت کامل میانبرها ارائه خواهد شد.
