
# میانبرهای کیبورد

«دبیر» برای افزایش سرعت نوشتن، از میانبرهای کیبورد پشتیبانی می‌کند. شما می‌توانید میانبرهای پیش‌فرض را تغییر دهید یا میانبرهای جدیدی برای خودتان تعریف کنید.

## میانبرهای پیش‌فرض

این میانبرها هم با کیبورد انگلیسی و هم فارسی کار می‌کنند.

### قالب‌بندی درون‌خطی (Inline)

| کلید(ها) | عملکرد | توضیحات |
| :--- | :--- | :--- |
| `Ctrl` + `B` (`ذ`) | **پررنگ کردن** (Bold) | متن انتخاب شده را با `**` محصور می‌کند. |
| `Ctrl` + `I` (`ه`) | *کج کردن* (Italic) | متن انتخاب شده را با `*` محصور می‌کند. |
| `Ctrl` + `U` (`ع`) | ~~خط زدن~~ (Strikethrough) | متن انتخاب شده را با `~~` محصور می‌کند. |
| `Ctrl` + `K` (`ن`) | ایجاد پیوند (Link) | متن انتخاب شده را به `[متن](url)` تبدیل می‌کند. |
| `` Ctrl` + ` `` (`پ`) | `کد درون‌خطی` (Inline Code) | متن انتخاب شده را با `` ` `` محصور می‌کند. |
| `Ctrl` + `Alt` + `H` (`ا`) | ==برجسته کردن== (Highlight) | متن انتخاب شده را با `==` محصور می‌کند. |

### قالب‌بندی بلوک (Block)

| کلید(ها) | عملکرد | توضیحات |
| :--- | :--- | :--- |
| `Ctrl` + `1` (`۱`) | **عنوان سطح ۱** (Heading 1) | خط فعلی را به عنوان سطح ۱ تبدیل می‌کند. |
| `Ctrl` + `2` (`۲`) | **عنوان سطح ۲** (Heading 2) | خط فعلی را به عنوان سطح ۲ تبدیل می‌کند. |
| `Ctrl` + `3` (`۳`) | **عنوان سطح ۳** (Heading 3) | خط فعلی را به عنوان سطح ۳ تبدیل می‌کند. |
| `Ctrl` + `4` (`۴`) | **عنوان سطح ۴** (Heading 4) | خط فعلی را به عنوان سطح ۴ تبدیل می‌کند. |
| `Ctrl` + `Alt` + `L` (`م`) | **لیست مرتب** (Ordered List) | خط(های) انتخاب شده را به لیست مرتب تبدیل می‌کند. |
| `Ctrl` + `Alt` + `U` (`ع`) | **لیست نامرتب** (Unordered List) | خط(های) انتخاب شده را به لیست نامرتب تبدیل می‌کند. |
| `Ctrl` + `Alt` + `B` (`ذ`) | **بازبینه** (Task List) | خط(های) انتخاب شده را به بازبینه تبدیل می‌کند. |
| `Ctrl` + `Alt` + `Q` (`ض`) | **نقل‌قول** (Quote) | ابتدای خط `> ` را اضافه می‌کند. |
| `Ctrl` + `Alt` + `C` (`ز`) | **بلوک کد** (Code Block) | یک بلوک کد خالی ایجاد می‌کند. |
| `Ctrl` + `Alt` + `I` (`ه`) | **تصویر** (Image) | نشانه‌گذاری `![]()` را وارد می‌کند. |
| `Ctrl` + `Alt` + `T` (`ف`) | **جدول** (Table) | یک جدول ۲x۲ ساده ایجاد می‌کند. |
| `Tab` | افزایش تورفتگی (Indent) آیتم لیست | مکان‌نما باید داخل یک آیتم از لیست باشد. |
| `Shift` + `Tab` | کاهش تورفتگی (Outdent) آیتم لیست | مکان‌نما باید داخل یک آیتم از لیست تودرتو باشد. |

### ناوبری و ویرایش (Navigation & Editing)

| کلید(ها) | عملکرد | توضیحات |
| :--- | :--- | :--- |
| `Enter` | ایجاد آیتم جدید در لیست یا خروج از آن | اگر آیتم فعلی خالی باشد، از لیست خارج می‌شود. |
| `Enter` (در خط خالی) | خروج از بلوک‌های نقل‌قول، کد و جعبه‌های توضیحی | اگر در یک خط خالی داخل این بلوک‌ها `Enter` را بزنید، یک پاراگراف جدید ایجاد می‌شود. |
| `Backspace` (ابتدای بازبینه) | تبدیل بازبینه (Checklist) به آیتم لیست معمولی | تیک‌باکس را حذف کرده و آیتم را به یک آیتم لیست عادی تبدیل می‌کند. |


## شخصی‌سازی میانبرها

شما می‌توانید با دسترسی به ماژول `keyboardHandler` ویرایشگر، میانبرهای جدیدی ثبت کنید.

### ثبت یک میانبر جدید

متد `register` سه آرگومان دریافت می‌کند:

1.  `key` (`string`): نام کلید اصلی (مانند `'b'`, `'Enter'`, `'Tab'`).
2.  `modifiers` (`Array<string>`): آرایه‌ای از کلیدهای اصلاح‌کننده (مانند `['ctrl']`, `['shift']`, `['alt']`).
3.  `handler` (`Function`): تابعی که در هنگام فشردن میانبر اجرا می‌شود. این تابع آبجکت `event` و نمونه `editor` را به عنوان پارامتر دریافت می‌کند. اگر این تابع `true` برگرداند، از اجرای رفتار پیش‌فرض مرورگر جلوگیری می‌شود.

#### مثال ۱: افزودن میانبر برای پررنگ کردن متن (Ctrl + B)

```javascript
const editor = new DabirEditor('#editor');

editor.keyboardHandler.register('b', ['ctrl'], (event, editorInstance) => {
    // از دستورات داخلی مرورگر برای اعمال قالب‌بندی استفاده می‌کنیم
    document.execCommand('bold');
    
    // true را برمی‌گردانیم تا مرورگر کار دیگری انجام ندهد
    return true; 
});
```

#### مثال ۲: افزودن میانبر برای درج تاریخ امروز (Alt + D)

```javascript
editor.keyboardHandler.register('d', ['alt'], (event) => {
    const today = new Date().toLocaleDateString('fa-IR');
    document.execCommand('insertText', false, today);
    return true;
});
```

### تغییر میانبرهای موجود

در حال حاضر، راه مستقیمی برای حذف یا تغییر میانبرهای پیش‌فرض (مانند `Tab`) وجود ندارد. با این حال، از آنجایی که میانبرهای سفارشی شما قبل از میانبرهای داخلی پلاگین‌ها بررسی نمی‌شوند، ممکن است تداخل ایجاد شود. در نسخه‌های آینده، API بهتری برای مدیریت کامل میانبرها ارائه خواهد شد.